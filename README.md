# nTrends - Salon Management System

**nTrends** is a comprehensive web-based management system designed for salons and clinics. It streamlines daily operations including appointment scheduling, billing, inventory management, employee tracking, and reporting.

---

## ğŸš€ Features

### ğŸ“… Appointment Management
-   **Dashboard View**: Visualizing daily appointments with status indicators (Scheduled, Completed, Cancelled).
-   **Booking System**: creating new appointments with client details.
-   **Group Booking**: Support for multiple services in a single visit.
-   **Status Tracking**: Move appointments from Scheduled to Billing/Completed.

### ğŸ’° Billing & Checkout
-   **Integrated Checkout**: Seamlessly move appointments to billing.
-   **Discount Management**: Apply percentage-based discounts.
-   **Payment Methods**: Track Cash, Card, UPI, etc.
-   **Invoice History**: View past client bills and revenue.

### ğŸ“¦ Inventory Control
-   **Product Tracking**: Manage stock levels for salon products.
-   **Low Stock Alerts**: Visual indicators for items running low.
-   **Price Management**: Maintain product pricing.

### ğŸ‘¥ Employee Management
-   **Staff Directory**: Manage employee profiles, roles, and contact info.
-   **Performance Tracking**: Track revenue generated by each employee.
-   **Status Control**: Mark employees as Active or Inactive.

### ğŸ“Š Reports & Analytics
-   **Employee Performance**: Detailed reports on staff productivity.
-   **Service Popularity**: analytics on top-performing services.
-   **Excel Export**: Download comprehensive data for offline analysis.

---

## ğŸ› ï¸ Technology Stack

-   **Backend**: PHP (Vanilla)
-   **Database**: MySQL (PDO Drivers)
-   **Frontend**: HTML5, Bootstrap 5, jQuery
-   **Server**: Apache (WAMP/XAMPP compatible)

---

## ğŸ”’ Security Implementations

This project adheres to modern security standards:
1.  **Authentication**: Session-based login system with password hashing (`password_hash`).
2.  **Authorization**: Strict middleware checks `isset($_SESSION['user_id'])` on all API endpoints.
3.  **CSRF Protection**:
    -   Double-Submit Cookie pattern.
    -   `X-CSRF-Token` header validation for all AJAX requests.
    -   Anti-CSRF tokens on all POST forms.
4.  **Session Hardening**:
    -   `HttpOnly` and `SameSite` cookie attributes enforced.
    -   Session regeneration to prevent fixation.
5.  **Input Protection**: PDO Prepared Statements to prevent SQL Injection.

---

## ğŸ“‚ Project Structure

```
nTrends/
â”œâ”€â”€ ntrends app/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ db.php           # Database Connection
â”‚   â”‚   â””â”€â”€ security.php     # Security Helper Functions
â”‚   â”œâ”€â”€ modules/
â”‚   â”‚   â”œâ”€â”€ appointments/    # Appointment Logic
â”‚   â”‚   â”œâ”€â”€ billing/         # Billing Logic
â”‚   â”‚   â”œâ”€â”€ employee/        # Employee Management
â”‚   â”‚   â”œâ”€â”€ inventory/       # Stock Management
â”‚   â”‚   â”œâ”€â”€ reports/         # Reporting & Exports
â”‚   â”‚   â””â”€â”€ services/        # Service Catalog
â”‚   â”œâ”€â”€ assets/              # CSS, JS, Images
â”‚   â”œâ”€â”€ layout/              # Shared UI (Sidebar, Header)
â”‚   â”œâ”€â”€ login.php            # Authentication Entry
â”‚   â”œâ”€â”€ register.php         # User Registration
â”‚   â””â”€â”€ index.php            # App Entry Point
â””â”€â”€ README.md                # Documentation
```

---

## âš™ï¸ Installation & Setup

1.  **Server Requirements**:
    -   PHP 7.4 or higher
    -   MySQL 5.7 or higher
    -   Apache Web Server

2.  **Database Setup**:
    -   Create a database named `ntrends_app`.
    -   Import the SQL schema (users, employees, services, inventory, appointments).

    *Example Schema Structure:*
    -   `users`: `id`, `username`, `password`
    -   `employees`: `id`, `name`, `role`, `phone`, `status`
    -   `services`: `id`, `service_name`, `price`
    -   `inventory`: `id`, `product_name`, `quantity`, `price`
    -   `appointments`: `id`, `client_name`, `date`, `status`, etc.

3.  **Configuration**:
    -   Edit `ntrends app/config/db.php` with your database credentials.

4.  **Run Application**:
    -   Place the folder in your `www` or `htdocs` directory.
    -   Access via `http://localhost/nTrends/ntrends app/`.

---

## ğŸ”‘ Login Credentials

*(Default setup required)*
1.  Navigate to `register.php` to create your first admin account.
2.  Log in using the newly created credentials.

---

## ğŸ“– API Documentation

All modules use specific `api.php` endpoints.
**Note**: All API requests MUST include the `X-CSRF-Token` header.

| Module | Endpoint | Actions |
| :--- | :--- | :--- |
| **Appointments** | `modules/appointments/api.php` | `fetch_by_date`, `save_appointment`, `delete_group` |
| **Inventory** | `modules/inventory/api.php` | `fetch`, `create`, `update`, `delete` |
| **Employees** | `modules/employee/api.php` | `fetch`, `create`, `update`, `delete` |
| **Services** | `modules/services/api.php` | `fetch`, `create`, `update`, `delete` |

---

*Verified and Secured by Antigravity* ğŸ›¡ï¸
